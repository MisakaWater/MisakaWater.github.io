{"pages":[{"title":"","text":"//ä¿®æ”¹urlçš„æ–¹æ³• //sub:æ•°ç»„ä¸‹æ ‡ //arr:è¡¨æƒ…æ•°ç»„ async function setUrl(text) { if (!!(window.history && history.pushState)) { history.replaceState(null, null, window.location.href.split('#')[0] = text); } } //ä¿®æ”¹urlä¸ºé»˜è®¤url async function cleanUrl(url) { if (!!(window.history && history.pushState)) { history.replaceState(null, null, window.location.href.split('#')[0] = url); } } function getPageHeight() { let body = document.body, html = document.documentElement; let height = Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight); return height; } function getWindowHeight() { let height = window.innerHeight; return height; } //å¾ªç¯åŠ¨ç”»ä½¿ç”¨çš„è¡¨æƒ… var kaomoji = [ \"(ï½€ï½¥Ï‰ï½¥)\", \"(ã€ƒâˆ€ã€ƒ)\", \"w(ï¾ŸĞ”ï¾Ÿ)w\", \"_(:Ğ·ã€âˆ )_\" ] var emoji = [ \"ğŸŒ¶ï¸\", \"ğŸ’‰\", \"ğŸ’¦\", \"ğŸ‚\", \"ğŸº\" ] var bar = [ \"-\", \"0\" ] var defUrl = window.location.href.split('#')[0]; //é»˜è®¤url var scrollProgressIntervalId = null; function scrollBarClick() { UrlProgress(bar, 0, 1, 50, -1); let e = window.event; if (e != undefined) { obj = e.target || e.srcElement; } if (e.path[0].innerText == \"click\") { e.path[0].innerText = \"stop\"; window.addEventListener('scroll', e => scrollProgress(bar), true); } else { alert(\"éœ€è¦åœæ­¢è¯·åˆ·æ–°!\"); e.path[0].innerText = \"click\"; window.removeEventListener('scroll', scrollProgress(bar), true); } } function scrollProgress(arr) { let now; let scrollAvail = getPageHeight() - getWindowHeight(); // å¯æ»šåŠ¨çš„é«˜åº¦ let scrollTop = document.documentElement.scrollTop || document.body.scrollTop || window.pageYOffset; let length = 50; now = (scrollTop / scrollAvail) * length; now = parseInt(now); UrlProgress(arr, 0, 1, 50, now); } //arr å¯¹åº”å‰æ™¯ï¼ŒèƒŒæ™¯æ•°ç»„ //subBack è¿›åº¦æ¡èƒŒæ™¯ //subFore è¿›åº¦æ¡å‰æ™¯ //length è¿›åº¦æ¡æ€»é•¿ //now å½“å‰è¿›åº¦ function UrlProgress(arr, subBack, subFore, length, now) { let args = \"\"; for (let i = 0; i < length; i++) { args = args + arr[subBack] } if (now >= 0) { args = args.split(''); args.splice(now, 1, arr[subFore]); args = args.join(''); } setUrl(args); } //å¾ªç¯åŠ¨ç”» var UrlLoopIntervalId = null; function UrlLoop(speed, arr, defUrl) { var e = window.event; if (e != undefined) { obj = e.target || e.srcElement; e.path[0].innerText = \"stop\"; } //ä¸Šé¢: //é€‰æ‹©è§¦å‘æ–¹æ³•çš„å…ƒç´  if (UrlLoopIntervalId == null) { this.speed = speed || '1000'; var i = 0; UrlLoopIntervalId = setInterval(function () { setUrl(arr[i]); i++; if (i == arr.length) { i = 0; } }, speed); } else { clearInterval(UrlLoopIntervalId); cleanUrl(defUrl); UrlLoopIntervalId = null; e.path[0].innerText = \"click\"; } }","link":"/js/url.js"}],"posts":[{"title":"201906ä¿„ç½—æ–¯æ—…è¡Œ","text":"1.ç¬¬ä¸€å¤© 2.ç¬¬äºŒå¤© 3.ç¬¬ä¸‰å¤© 4.ç¬¬å¥½å¤šå¤©","link":"/2019/06/26/201906ä¿„ç½—æ–¯æ—…è¡Œ/"},{"title":"å°†å †æ ˆæ˜Ÿè½¨å˜æˆä¸€æ®µæµæ˜Ÿé›¨è§†é¢‘","text":"å‰è¨€ç–«æƒ…æœŸé—´ä¸€ç›´åœ¨å®¶å‘†ç€ä¹Ÿæ²¡äº‹åšå°±æ‹æ‹æ˜Ÿæ˜Ÿå‰ä¸¤å¤©æ‹äº†å¼ æ˜Ÿè½¨","link":"/2020/02/19/å°†å †æ ˆæ˜Ÿè½¨å˜æˆä¸€æ®µæµæ˜Ÿé›¨è§†é¢‘/"},{"title":"JSå®ç°URLå˜æ¢","text":"å‰è¨€ä»Šå¤©æ— èŠæ‰¾ä¸œè¥¿ç©ç¿»ä¹¦ç­¾ç¿»åˆ°äº†http://glench.com/hash/å°±æƒ³ç€æ‰¾æºç æ¬åˆ° blog ä¸Šï¼Œè½¬äº†åŠå¤©å‘ç°ä½œè€…æ²¡å¼€æºï¼Œå°±æœ‰äº†ä¸‹æ–‡ã€‚ æ¼”ç¤ºè­¦å‘Šï¼è¯·ä½¿ç”¨æ— ç—•æ¨¡å¼å†ç‚¹å‡»ä¸‹é¢çš„æŒ‰é’®ï¼Œä¸ç„¶ä¼šæœ‰ä¸€å †çš„å†å²è®°å½•ã€‚è¡¨æƒ…å¾ªç¯:clickæ»šåŠ¨æ¡ä½ç½®åŠ¨ç”»:click ä»£ç  ver0.2 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134//ä¿®æ”¹urlçš„æ–¹æ³•//sub:æ•°ç»„ä¸‹æ ‡//arr:è¡¨æƒ…æ•°ç»„async function setUrl(text) { if (!!(window.history &amp;&amp; history.pushState)) { history.replaceState(null, null, window.location.href.split('#')[0] = text); }}//ä¿®æ”¹urlä¸ºé»˜è®¤urlasync function cleanUrl(url) { if (!!(window.history &amp;&amp; history.pushState)) { history.replaceState(null, null, window.location.href.split('#')[0] = url); }}function getPageHeight() { let body = document.body, html = document.documentElement; let height = Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight); return height;}function getWindowHeight() { let height = window.innerHeight; return height;}//å¾ªç¯åŠ¨ç”»ä½¿ç”¨çš„è¡¨æƒ…var kaomoji = [ \"(ï½€ï½¥Ï‰ï½¥)\", \"(ã€ƒâˆ€ã€ƒ)\", \"w(ï¾ŸĞ”ï¾Ÿ)w\", \"_(:Ğ·ã€âˆ )_\"]var emoji = [ \"ğŸŒ¶ï¸\", \"ğŸ’‰\", \"ğŸ’¦\", \"ğŸ‚\", \"ğŸº\"]var bar = [ \"-\", \"0\"]var defUrl = window.location.href.split('#')[0]; //é»˜è®¤urlvar scrollProgressIntervalId = null;function scrollBarClick() { UrlProgress(bar, 0, 1, 50, -1); let e = window.event; if (e != undefined) { obj = e.target || e.srcElement; } if (e.path[0].innerText == \"click\") { e.path[0].innerText = \"stop\"; window.addEventListener('scroll', e =&gt; scrollProgress(bar), true); } else { alert(\"éœ€è¦åœæ­¢è¯·åˆ·æ–°!\"); e.path[0].innerText = \"click\"; window.removeEventListener('scroll', scrollProgress(bar), true); }}function scrollProgress(arr) { let now; let scrollAvail = getPageHeight() - getWindowHeight(); // å¯æ»šåŠ¨çš„é«˜åº¦ let scrollTop = document.documentElement.scrollTop || document.body.scrollTop || window.pageYOffset; let length = 50; now = (scrollTop / scrollAvail) * length; now = parseInt(now); UrlProgress(arr, 0, 1, 50, now);}//arr å¯¹åº”å‰æ™¯ï¼ŒèƒŒæ™¯æ•°ç»„//subBack è¿›åº¦æ¡èƒŒæ™¯//subFore è¿›åº¦æ¡å‰æ™¯//length è¿›åº¦æ¡æ€»é•¿//now å½“å‰è¿›åº¦function UrlProgress(arr, subBack, subFore, length, now) { let args = \"\"; for (let i = 0; i &lt; length; i++) { args = args + arr[subBack] } if (now &gt;= 0) { args = args.split(''); args.splice(now, 1, arr[subFore]); args = args.join(''); } setUrl(args);}//å¾ªç¯åŠ¨ç”»var UrlLoopIntervalId = null;function UrlLoop(speed, arr, defUrl) { var e = window.event; if (e != undefined) { obj = e.target || e.srcElement; e.path[0].innerText = \"stop\"; } //ä¸Šé¢: //é€‰æ‹©è§¦å‘æ–¹æ³•çš„å…ƒç´  if (UrlLoopIntervalId == null) { this.speed = speed || '1000'; var i = 0; UrlLoopIntervalId = setInterval(function () { setUrl(arr[i]); i++; if (i == arr.length) { i = 0; } }, speed); } else { clearInterval(UrlLoopIntervalId); cleanUrl(defUrl); UrlLoopIntervalId = null; e.path[0].innerText = \"click\"; }} ver0.1 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115//ä¿®æ”¹urlçš„æ–¹æ³•//sub:æ•°ç»„ä¸‹æ ‡//arr:è¡¨æƒ…æ•°ç»„async function setUrl(text) { if (!!(window.history &amp;&amp; history.pushState)) { history.replaceState(null, null, window.location.href.split('#')[0] = text); }}//ä¿®æ”¹urlä¸ºé»˜è®¤urlasync function cleanUrl(url) { if (!!(window.history &amp;&amp; history.pushState)) { history.replaceState(null, null, window.location.href.split('#')[0] = url); }}function getPageHeight() { let body = document.body, html = document.documentElement; let height = Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight); return height;}function getWindowHeight() { let height = window.innerHeight; return height;}//å¾ªç¯åŠ¨ç”»ä½¿ç”¨çš„è¡¨æƒ…var kaomoji = [ \"(ï½€ï½¥Ï‰ï½¥)\", \"(ã€ƒâˆ€ã€ƒ)\", \"w(ï¾ŸĞ”ï¾Ÿ)w\", \"_(:Ğ·ã€âˆ )_\"]var emoji = [ \"ğŸŒ¶ï¸\", \"ğŸ’‰\", \"ğŸ’¦\", \"ğŸ‚\", \"ğŸº\"]var bar = [ \"-\", \"0\"]var defUrl = window.location.href.split('#')[0]; //é»˜è®¤urlvar scrollProgressIntervalId = null;window.addEventListener('scroll', e =&gt; scrollProgress(bar), true)function scrollProgress(arr) { let now; let scrollAvail = getPageHeight() - getWindowHeight(); // å¯æ»šåŠ¨çš„é«˜åº¦ let scrollTop = document.documentElement.scrollTop || document.body.scrollTop || window.pageYOffset; let length = 50; now = (scrollTop / scrollAvail) * length; now = parseInt(now); UrlProgress(arr, 0, 1, 50, now);}//arr å¯¹åº”å‰æ™¯ï¼ŒèƒŒæ™¯æ•°ç»„//subBack è¿›åº¦æ¡èƒŒæ™¯//subFore è¿›åº¦æ¡å‰æ™¯//length è¿›åº¦æ¡æ€»é•¿//now å½“å‰è¿›åº¦function UrlProgress(arr, subBack, subFore, length, now) { let args = \"\"; for (let i = 0; i &lt; length; i++) { args = args + arr[subBack] } if (now &gt;= 0) { args = args.split(''); args.splice(now, 1, arr[subFore]); args = args.join(''); } setUrl(args);}//å¾ªç¯åŠ¨ç”»var UrlLoopIntervalId = null;function UrlLoop(speed, arr, defUrl) { var e = window.event; if (e != undefined) { obj = e.target || e.srcElement; e.path[0].innerText = \"stop\"; } //ä¸Šé¢: //é€‰æ‹©è§¦å‘æ–¹æ³•çš„å…ƒç´  if (UrlLoopIntervalId == null) { this.speed = speed || '1000'; var i = 0; UrlLoopIntervalId = setInterval(function () { setUrl(arr[i]); i++; if (i == arr.length) { i = 0; } }, speed); } else { clearInterval(UrlLoopIntervalId); cleanUrl(defUrl); UrlLoopIntervalId = null; e.path[0].innerText = \"click\"; }} TODO [x]åŠ ä¸€ä¸ªè¿›åº¦æ¡åŠ¨ç”»è·å–æ»šåŠ¨ä½ç½®æ”¹å˜è¿›åº¦ã€‚ [ ]åŒæ—¶æ‰“å¼€å¤šä¸ªå¼¹çª—ï¼Œå®ç°æ’­æ”¾åŠ¨ç”»ã€‚ [ ]æŒ‰é’®è§£ç»‘æ»šåŠ¨æ¡äº‹ä»¶ [ ]åœ¨è¿›åº¦æ¡çš„æœ«ç«¯åŠ è¿›åº¦çš„ç™¾åˆ†æ¯”","link":"/2019/07/21/JSå®ç°URLå˜æ¢/"}],"tags":[{"name":"æ—…è¡Œ","slug":"æ—…è¡Œ","link":"/tags/æ—…è¡Œ/"},{"name":"é£æ™¯","slug":"é£æ™¯","link":"/tags/é£æ™¯/"},{"name":"æ‘„å½±","slug":"æ‘„å½±","link":"/tags/æ‘„å½±/"},{"name":"ç…§ç‰‡","slug":"ç…§ç‰‡","link":"/tags/ç…§ç‰‡/"},{"name":"å¥½åº·çš„","slug":"å¥½åº·çš„","link":"/tags/å¥½åº·çš„/"},{"name":"js","slug":"js","link":"/tags/js/"},{"name":"åŠ¨ç”»","slug":"åŠ¨ç”»","link":"/tags/åŠ¨ç”»/"},{"name":"å¥½ç©çš„","slug":"å¥½ç©çš„","link":"/tags/å¥½ç©çš„/"}],"categories":[{"name":"æ‘„å½±","slug":"æ‘„å½±","link":"/categories/æ‘„å½±/"},{"name":"ç¼–ç¨‹","slug":"ç¼–ç¨‹","link":"/categories/ç¼–ç¨‹/"}]}