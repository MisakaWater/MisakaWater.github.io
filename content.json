{"pages":[],"posts":[{"title":"JS实现URL变换","text":"前言今天无聊找东西玩翻书签翻到了http://glench.com/hash/就想着找源码搬到blog上，转了半天发现作者没开源，就有了下文。 演示click 代码123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384//修改url的方法//sub:数组下标//arr:表情数组async function setUrl(sub, arr) { if (!!(window.history &amp;&amp; history.pushState)) { history.replaceState(null, null, window.location.href.split('#')[0] = arr[sub]); }}//修改url为默认urlasync function cleanUrl(url) { if (!!(window.history &amp;&amp; history.pushState)) { history.replaceState(null, null, window.location.href.split('#')[0] = url); }}//循环动画使用的表情var kaomoji = [ \"(｀･ω･)\", \"(〃∀〃)\", \"w(ﾟДﾟ)w\", \"_(:з」∠)_\"]var emoji = [ \"🌶️\", \"💉\", \"💦\", \"🐂\", \"🍺\"]var IntervalId = null;var defUrl = window.location.href.split('#')[0]; //默认url//循环动画function UrlLoop(speed, arr, defUrl) { var e = window.event; if (e != undefined) { obj = e.target || e.srcElement; e.path[0].innerText = \"stop\"; } //上面: //选择触发方法的元素 if (IntervalId == null) { this.speed = speed || '1000'; var i = 0; IntervalId = setInterval(function () { setUrl(i, arr); i++; if (i == arr.length) { i = 0; } }, speed); } else { clearInterval(IntervalId); cleanUrl(defUrl); IntervalId = null; e.path[0].innerText = \"click\"; }}function print_nav_timing_data() { // Use getEntriesByType() to just get the \"navigation\" events var perfEntries = performance.getEntriesByType(\"navigation\"); for (var i = 0; i &lt; perfEntries.length; i++) { console.log(\"= Navigation entry[\" + i + \"]\"); var p = perfEntries[i]; // dom Properties console.log(\"DOM content loaded = \" + (p.domContentLoadedEventEnd - p.domContentLoadedEventStart)); console.log(\"DOM complete = \" + p.domComplete); console.log(\"DOM interactive = \" + p.interactive); // document load and unload time console.log(\"document load = \" + (p.loadEventEnd - p.loadEventStart)); console.log(\"document unload = \" + (p.unloadEventEnd - p.unloadEventStart)); // other properties console.log(\"type = \" + p.type); console.log(\"redirectCount = \" + p.redirectCount); }} #TODO做一个进度条动画获取滚动位置改变进度","link":"/2019/07/21/JS实现URL变换/"},{"title":"201906俄罗斯旅行","text":"1.第一天 2.第二天 3.第三天 4.第好多天","link":"/2019/06/26/201906俄罗斯旅行/"}],"tags":[{"name":"js","slug":"js","link":"/tags/js/"},{"name":"动画","slug":"动画","link":"/tags/动画/"},{"name":"好玩的","slug":"好玩的","link":"/tags/好玩的/"},{"name":"旅行","slug":"旅行","link":"/tags/旅行/"},{"name":"风景","slug":"风景","link":"/tags/风景/"},{"name":"摄影","slug":"摄影","link":"/tags/摄影/"},{"name":"照片","slug":"照片","link":"/tags/照片/"},{"name":"好康的","slug":"好康的","link":"/tags/好康的/"}],"categories":[{"name":"编程","slug":"编程","link":"/categories/编程/"},{"name":"摄影","slug":"摄影","link":"/categories/摄影/"}]}